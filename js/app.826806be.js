(function(t){function e(e){for(var n,o,s=e[0],c=e[1],l=e[2],p=0,d=[];p<s.length;p++)o=s[p],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(d.length)d.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,s=1;s<a.length;s++){var c=a[s];0!==r[c]&&(n=!1)}n&&(i.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},r={app:0},i=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/simple-valuation-app/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("section",{staticClass:"hero is-light is-fullheight"},[t._m(0),a("div",{staticClass:"hero-body",staticStyle:{"align-items":"inherit !important"}},[a("div",{staticClass:"container"},[a("b-field",{attrs:{label:"Company search bar"}},[a("b-autocomplete",{staticClass:"mb-5",attrs:{data:t.data,placeholder:"e.g. Apple",field:"name",loading:t.isFetching},on:{typing:t.getAsyncData,select:function(e){return t.selected=e}},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"media"},[a("div",{staticClass:"media-content"},[t._v(" "+t._s(e.option.name)+" "),a("br"),a("small",[t._v(" "+t._s(e.option.exchangeShortName)+":"+t._s(e.option.symbol)+" ")])])])]}}])})],1),a("Valuation",{attrs:{symbol:null==t.selected?"":t.selected.symbol}})],1)])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hero-head"},[a("div",{staticClass:"container has-text-centered"},[a("h1",{staticClass:"title is-2"},[t._v("Simple Stock Valuation App")])])])}],o=a("1da1"),s=(a("96cf"),a("99af"),a("d3b7"),a("159b"),a("2ef0")),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticStyle:{"margin-top":"10em","margin-bottom":"2em"}},[a("h1",{staticClass:"title is-3"},[t._v(" Company Name: "),null!=t.quoteInfo?a("span",[t._v(t._s(t.quoteInfo.name))]):t._e()]),a("p",[t._v(" Current Price: "),null!=t.quoteInfo?a("b",[t._v("$"+t._s(t.quoteInfo.price))]):t._e()])]),a("b-field",{attrs:{label:"Number of fiscal years shown"}},[a("b-numberinput",{attrs:{min:1,max:10,"icon-pack":"fas"},model:{value:t.number,callback:function(e){t.number=e},expression:"number"}})],1),a("div",{staticClass:"mt-5"},[a("b-table",{staticClass:"mt-3",attrs:{data:t.data,columns:t.columns,bordered:"",striped:"",hoverable:""},scopedSlots:t._u([{key:"empty",fn:function(){return[a("div",{staticClass:"has-text-centered"},[t._v("No records")])]},proxy:!0}])})],1),a("p",[t._v("Price to Book actual price: "+t._s(t.priceToBookActPrice))]),a("p",[t._v("Price to Sales actual price: "+t._s(t.priceToSaleActPrice))])],1)},l=[],u=(a("b680"),a("25f0"),{name:"Valuation",props:{symbol:String},data:function(){return{number:4,quoteInfo:null,ttmData:null,data:[]}},watch:{symbol:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var a,n,r,i,o,s=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.length){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,this.$http.get("https://financialmodelingprep.com/api/v3/ratios/".concat(e,"?limit=10&apikey=").concat("762ed0e8834399ce0ac2bb39672941b3"));case 5:if(a=t.sent,n=a.data,this.data=[],0!=n.length){t.next=11;break}return alert("No data available for this company"),t.abrupt("return");case 11:return r=n.reduce((function(t,e){if(0==t.ret.length){var a={type:"Dividend Yield"},n={type:"Price to Book"},r={type:"Price to Sales"};t.ret.push(a),t.ret.push(n),t.ret.push(r)}return t.ret[0][e.date.substring(0,4)]=null==e.dividendYield?"-":e.dividendYield.toFixed(4),t.ret[1][e.date.substring(0,4)]=e.priceToBookRatio.toFixed(4),t.ret[2][e.date.substring(0,4)]=e.priceToSalesRatio.toFixed(4),t.summ.pb+=e.priceToBookRatio,t.summ.ps+=e.priceToSalesRatio,t}),{ret:[],summ:{pb:0,ps:0}}),r.ret[1]["totalSum"]=r.summ.pb,r.ret[2]["totalSum"]=r.summ.ps,r.ret[0]["fairPrice"]="-",r.ret[1]["fairPrice"]=(r.summ.pb/this.number).toFixed(4),r.ret[2]["fairPrice"]=(r.summ.ps/this.number).toFixed(4),t.next=19,this.$http.get("https://financialmodelingprep.com/api/v3/quote/".concat(e,"?limit=10&apikey=").concat("762ed0e8834399ce0ac2bb39672941b3"));case 19:return i=t.sent,this.quoteInfo=i.data[0],setTimeout((function(){var t=o.data[0];s.ttmData=t,r.ret[0]["ttm"]=null!=t.dividendYieldPercentageTTM?t.dividendYieldPercentageTTM.toFixed(4)+"%":"-",r.ret[1]["ttm"]=null!=t.tangibleBookValuePerShareTTM?(s.quoteInfo.price/t.tangibleBookValuePerShareTTM).toFixed(4):"-",r.ret[2]["ttm"]=null!=t.priceToSalesRatioTTM?t.priceToSalesRatioTTM.toFixed(4):"-",s.data=r.ret}),500),t.next=24,this.$http.get("https://financialmodelingprep.com/api/v3/key-metrics-ttm/".concat(e,"?limit=10&apikey=").concat("762ed0e8834399ce0ac2bb39672941b3"));case 24:o=t.sent,t.next=32;break;case 27:t.prev=27,t.t0=t["catch"](2),this.data=[],this.quoteInfo=null,403==t.t0.response.status&&alert("This stock's infomation is not available for the free plan.");case 32:return t.prev=32,this.isFetching=!1,t.finish(32);case 35:case"end":return t.stop()}}),t,this,[[2,27,32,35]])})));function e(e){return t.apply(this,arguments)}return e}(),number:function(t){this.data[1]["fairPrice"]=(this.data[1]["totalSum"]/t).toFixed(4),this.data[2]["fairPrice"]=(this.data[2]["totalSum"]/t).toFixed(4)}},computed:{priceToBookActPrice:function(){return this.data.length<=0?0:(this.data[1]["fairPrice"]*this.ttmData.tangibleBookValuePerShareTTM).toFixed(4)},priceToSaleActPrice:function(){return this.data.length<=0?0:(this.data[2]["fairPrice"]*this.ttmData.revenuePerShareTTM).toFixed(4)},columns:function(){for(var t=[{field:"fairPrice",label:"Fair Price"},{field:"ttm",label:"TTM"}],e=new Date,a=0;a<this.number;a++){var n=(e.getFullYear()-a-1).toString();t.unshift({field:n,label:n})}return t.unshift({field:"type",label:"Valuation Type"}),t}}}),p=u,d=a("2877"),f=Object(d["a"])(p,c,l,!1,null,null,null),h=f.exports,m={name:"App",components:{Valuation:h},data:function(){return{searchVal:"",data:[],isFetching:!1,selected:null}},methods:{getAsyncData:Object(s["debounce"])(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var a,n,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.length<2)){t.next=3;break}return this.data=[],t.abrupt("return");case 3:return this.isFetching=!0,t.prev=4,t.next=7,this.$http.get("https://financialmodelingprep.com/api/v3/search?query=".concat(e,"&limit=10&apikey=").concat("762ed0e8834399ce0ac2bb39672941b3"));case 7:a=t.sent,n=a.data,this.data=[],n.forEach((function(t){return r.data.push(t)})),t.next=17;break;case 13:throw t.prev=13,t.t0=t["catch"](4),this.data=[],t.t0;case 17:return t.prev=17,this.isFetching=!1,t.finish(17);case 20:case"end":return t.stop()}}),t,this,[[4,13,17,20]])})));return function(e){return t.apply(this,arguments)}}(),500)}},b=m,v=Object(d["a"])(b,r,i,!1,null,null,null),g=v.exports,y=a("bc3a"),x=a.n(y),T=a("130e"),_=a("289d"),P=(a("5abe"),a("ad3d")),k=a("ecee"),S=a("c074");n["a"].config.productionTip=!1,k["c"].add(S["a"]),n["a"].component("vue-fontawesome",P["a"]),n["a"].use(_["a"],{defaultIconComponent:"vue-fontawesome",defaultIconPack:"fas"}),n["a"].use(T["a"],x.a),new n["a"]({render:function(t){return t(g)}}).$mount("#app")}});
//# sourceMappingURL=app.826806be.js.map